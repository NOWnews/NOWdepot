<!DOCTYPE html>
<html>
<head>
<style>
    /* 基本設定 */
    body {
        margin: 0;
        font-family: 微軟正黑體, 'Microsoft JhengHei', 蘋果儷中黑, 'Apple LiGothic Medium', sans-serif;
        overflow: hidden;
    }
    p,
    h1,
    input {
        margin: 0;
    }
    select {
        width: 105px;
		font-family: 微軟正黑體, 'Microsoft JhengHei', 蘋果儷中黑, 'Apple LiGothic Medium', sans-serif;
		border: 1px solid #ccc;
        border-radius: 4px;
        -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
        box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
        -webkit-transition: border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;
        -o-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
    }
    .info {
        font-size: 14px;
        letter-spacing: 1px;
        margin-right: 45px;
        margin-left: 12px;
        padding: 1px 2px 3px 10px;
        line-height: 15px;
        border-radius: 3px;
        margin-bottom: 2px;
    }
    .pull-right {
        float: right;
    }
    .pull-left {
        float: left;
    }
    .btn {
        cursor: pointer;
        text-align: right;
        margin-top: 205px;
        position: relative;
        font-weight: 900;
		color:#b82837;
		width: 373px;
    }
	.footer .write-info-btn {
		margin-left: 242px;
	}
    .footer .send-btn{
		margin-left: 290px;
	}
    .footer .share-btn{
		margin-left: 290px;
	}
    .blod {
        font-weight: 900;
    }
    .clearfix {
        clear: both;
    }
    .red {
        color: red;
    }
    .bg-yellow {
        background-color: #FFFFA3;
    }
    .essential {
        color: #000;
    }
    .essential::before {
        color: red;
        content: '*';
    }

    /* 第二頁開始左、右欄位 */
    #left {
        width: 260px;
        margin-right: 5px;
        float: left;
        margin-right: 12px;
    }
    #right {
        float: left;
        width: 300px;
        margin-right: 10px;
        margin-top: 18px;
    }
    .youvideo {
        height: 100%;
        width: 100%;
        top: 0;
        left: 0;
    }
	.main-video-small {
        width: 100%;
        height: 100%;
    }

    /* 選擇按鈕的樣式 */
    .select-box input {
        display: none;
    }
    .select-box label {
        cursor: pointer;
    }
    .select-box input:checked + span:after {
        opacity: 1;
    }
    .select-box span {
        position: relative;
        font-size: 17px;
    }
    .select-box span:before {
            position: relative;
            top: 3px;
            content: "";
            width: 18px;
            height: 18px;
            border: 1px solid gray;
            display: inline-block;
            margin-right: 5px;
            border-radius: 3px;
    }
    .select-box span:after {
        content: '';
        position: absolute;
        width: 9px;
        height: 5px;
        background: transparent;
        top: 4px;
        left: 5px;
        border: 3px solid #494949;
        border-top: none;
        border-right: none;
        opacity: 0;
        -webkit-transform: rotate(-45deg);
        -moz-transform: rotate(-45deg);
        -o-transform: rotate(-45deg);
        -ms-transform: rotate(-45deg);
        transform: rotate(-45deg);
        -webkit-transition: all 0.3s ease;
        -moz-transition: all 0.3s ease;
        -o-transition: all 0.3s ease;
        transition: all 0.3s ease;
    }
    .select-box span:hover:after {
        opacity: 0.3;
    }

    /*每個題目的 box */
    .box {
        height: 235px;
        padding: 8px 10px 7px;
        width: 620px;
    }
    .topic-box {
        background: url(cut2.gif);
    }
    .result-box {
        background: url(cut3.gif);
    }
    .endingcut {
        float: left;
        margin-top:140px;
        margin-left: 135px;
    }
    .gotovideo {
        padding: 3px 7px;
        margin: 0 6px;
        border: 1px solid #fff;
        border-radius: 4px;
        float: left;
        color: #fff;
        font-size: 17px;
    }
    .gotovideo a{
        color: #fff;
        text-decoration: none;
    }
    .gotovideo a:hover{
        color: #b82837;
    }
    .box .title {
        margin: 10px 0 5px 0px;
        color: #000;
        line-height: 30px;
        letter-spacing: -1px;
        float: left;
        width:100%;
    }
    h1.title {
        font-size: 27px;
    }
    h2.title {
        font-size: 18px;
        margin-left:5px;
    }
    .box .note {
	   margin-left: 2px;
	   font-size: 13px;
	   line-height: 120%;
	   letter-spacing: 3px;
	   width: 334px;
	   margin-bottom:5px;
	   color: #14eee6;
    }
    .select-box {
       border-radius: 5px;
       width: 350px;
       font-weight: 600;
       z-index: 999999;
       position: absolute;
       margin-left: 465px;
    }
    .box .body {
        padding: 7px 0px 7px 5px;
        border-radius: 5px;
        width: 600px;
        z-index: 999999;
        position: absolute;
    }
    form.body {
        margin-top: 40px;
        background-color: #fff;
        border: 1px dotted rgba(0, 0, 0, 0.5);
        background: rgba(225, 225, 225, 0.8);

    }
    .box .body .result-text {
        font-size: 20px;
		text-align: center;
        color: #faff74;
        margin-top: 60px;
    }
    .box .body .result-title {
        width: 100px;
        font-size: 13px;
        font-weight: 900;
        position: relative;
        padding-top: 15px;
    }
    .box .body .result-title:after {
        position: absolute;
        font-size: 80px;
        left: 18px;
        top: 25px;
        color: red;
        text-shadow: 6px 4px 3px #bbb;
    }
    .box .body .result0:after {
        content: "A";
        left: 8px;
        top: 27px;
    }
    .box .body .result1:after {
        content: "B";
        left: 17px;
        top: 25px;
    }
    .box .footer {
        text-align: left;
        font-size: 17px;
        color: #000;
        line-height: 24px;
    }
    .statement {
        margin-left: -17px;
        font-size: 12px;
        display: inline-block;
        line-height: 15px;
        transform: scale(0.9);
        -moz-transform: scale(0.9);
         -webkit-transform: scale(0.9);
        -o-transform: scale(0.9);
        -ms-transform: scale(0.9);
    }

    /* 送出表單 */
    form > label, form > .other {
        padding-bottom: 2px;
        display: inline-block;
        float: left;
        margin-right: 10px;
    }
    form span {
        font-size: 12px;
    }
    form > label > span, form > .other > span {
        width: 60px;
        display: inline-block;
        text-align: right;
    }
    form label > span + input {
        width: 200px;
		font-family: 微軟正黑體, 'Microsoft JhengHei', 蘋果儷中黑, 'Apple LiGothic Medium', sans-serif;
		padding: 0 4px;
		border: 1px solid #ccc;
        border-radius: 4px;
        -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
        box-shadow: inset 0 1px 1px rgba(0,0,0,.075);
        -webkit-transition: border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s;
        -o-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s;
    }

    /* 用 ifarme 會超出螢幕，所以很硬的擠下他*/
    .select2-container.select2-container--default .select2-results>.select2-results__options {
        max-height: 90px;
        overflow-y: auto;
    }

    /* 一開始的頁面*/
    .start-box {
        padding: 8px 5px 7px 15px;
        width: 620px;
        background: url(cut1.gif);
    }
    .start-box .body {
        margin-left: 0;
        padding: 0;
    }
    .start-box img {
        width: 100%;
        height: 150px;
    }
    .finish-box h3 {
        text-align: left;
        line-height: 20px;
        font-size: 14px;
        -webkit-margin-before: 1px;
        -webkit-margin-after: 1px;
        -webkit-margin-start: 0px;
        -webkit-margin-end: 0px;
        font-weight: 200;
		padding: 1px 5px 0 0;
    }
</style>
<meta charset="UTF-8">
</head>
<body>
    <div class="box start-box">

    <div id="left">
        <!--
        <div class="body">
            <img src="http://legacy.nownews.com/ad2004/160621-194444-7633p.png">
        </div>
        -->
        <h1 class="title">看影片找答案，再獨得<br><span style="color:#cc0000;">基金教母關鍵筆記</span>！</h1>
        <div class="footer">
            <span>房價太高、買不起？聽聽基金教母蕭碧燕如何雙薪買房？趕快觀看影片找出關鍵數字，就有機會抽中 NOWnews 特別準備的「基金教母關鍵筆記」喔～</span>
            <br><a class="btn move">　　　　　　　　　　立即挑戰》</a>
        </div>
    </div>

    <div id="right">
            <div class="youvideo">
                <iframe width="338" height="190" src="https://www.youtube.com/embed/0JxVfLlgiGQ" frameborder="0" allowfullscreen></iframe>
            </div>
    </div>

    </div>

    <div class="box topic-box">
        <h2 class="title">Q: 影片中蕭老師運用定時定額買房，總共花了幾年還清房貸？</h2>
        <!--
        <div class="note">※完成測驗即有機會獲得基金教母蕭碧燕精選書籍1本(共20本)</div>
        -->
        <div class="body">
            <!--
            <div class="question-box">
                <p class="blod">下列關於基金定時定額的投資觀念何者正確？</p>
            </div>
            -->
            <div class="select-box" style="margin-top: 5px; color:#cc0000;">

                <label>
                    <input type="radio" name="game" value="100">
                    <span>5 年 </span>
                </label>
                <label>
                    <input type="radio" name="game" value="0">
                    <span>10 年 </span>
                </label>
            </div>

            <form class="body" action="" method="post">
                <label>
                    <span class="essential">姓名 :</span>
                    <input id="name" type="text" name="name" placeholder="你的姓名" class="required">
                </label>
                <label>
                    <span class="essential">手機 :</span>
                    <input id="mobile" type="tel" name="mobile" placeholder="手機號碼(共10位數)" class="required">
                </label>
                <label>
                    <span class="essential">Email :</span>
                    <input id="email" type="email" name="email" placeholder="你的信箱" class="required">
                </label>
                <div class="other">
                    <span class="essential">年齡區間 :</span>
                    <select id="age" name="age">
                        <option value="">選擇年齡區間</option>
                        <option value="20以下">20以下</option>
                        <option value="20~29">20~29</option>
                        <option value="30~39">30~39</option>
                        <option value="40~49">40~49</option>
                        <option value="50以上">50以上</option>
                    </select>
                    <span class="essential" style="width: 45px;">性別 :</span>
                    <label>
                        <input type="radio" name="gender" value="boy">
                        <span>男</span>
                    </label>
                    <label>
                        <input type="radio" name="gender" value="girl">
                        <span>女</span>
                    </label>
                </div>
                <br>
                <label class="statement">
                    <input type="checkbox" name="statement" checked> 本人已詳閱
                    <a href="http://www.fhtrust.com.tw/announce/personal_announce.html" target="_blank">個資蒐集聲明</a>，並同意復華投信得蒐集、處理、利用上述本人所填寫之個人資料，以便取得投資理財相關服務。 (除非事先經過您的同意或依相關法律規定，復華投信不會將您的個人資料提供給第三人，或移作其他目的使用)
                </label>
                <div class="info clearfix bg-yellow">
                    <span class="red">※請填寫完整資料，NOWnews將於10/28(五)抽出基金教母關鍵筆記(共20本)，並通知得獎者。</span>
                </div>
            </form>
            <!--
            <div class="footer">
                <a class="btn send-btn move">送出資料》</a>
            </div>
　　　　　　　　　　-->
        </div>
        <p class="btn send-btn question-btn move">送出答案，我要抽獎》</p>
    </div>

    <div class="box result-box">
        <!--
        <h1 class="title">你的理財方法對了嗎？ <br>用基金買房觀念大</h1>
        <div class="note">※完成測驗即有機會獲得基金教母蕭碧燕精選書籍1本(共20本)</div>
        -->
        <div class="body"></div>
        <div class="endingcut">
            <div class="gotovideo"><a href="https://www.youtube.com/watch?v=0JxVfLlgiGQ&list=PL0j2YgLgVIeFC3-5ZfduAGmYlMfaTGaU8&index=2" target="_blank">再看一次影片》</a></div>
            <div class="gotovideo"><a href="https://www.youtube.com/watch?v=oTZllmK8h5M&list=PL0j2YgLgVIeFC3-5ZfduAGmYlMfaTGaU8" target="_blank">看更多蕭老師影片》</a></div>
        </div>
        <!--
        <div class="footer">
            <a class="btn  write-info-btn move">填寫資料抽獎去》</a>
        </div>
        -->
    </div>

    <!-- <div class="box form-box">
        <div id="left">
            <form class="body" action="" method="post">
                <label>
                    <span class="essential">姓名 :</span>
                    <input id="name" type="text" name="name" placeholder="你的姓名" class="required">
                </label>
                <br>
                <label>
                    <span class="essential">手機 :</span>
                    <input id="mobile" type="tel" name="mobile" placeholder="手機號碼(共10位數)" class="required">
                </label>
                <br>
                <label>
                    <span class="essential">Email :</span>
                    <input id="email" type="email" name="email" placeholder="你的信箱" class="required">
                </label>
                <br>
                <div class="other">
                    <span class="essential">年齡區間 :</span>
                    <select id="age" name="age">
                        <option value="">選擇年齡區間</option>
                        <option value="20以下">20以下</option>
                        <option value="20~29">20~29</option>
                        <option value="30~39">30~39</option>
                        <option value="40~49">40~49</option>
                        <option value="50以上">50以上</option>
                    </select>
                    <span class="essential" style="width: 45px;">性別 :</span>
                    <label>
                        <input type="radio" name="gender" value="boy">
                        <span>男</span>
                    </label>
                    <label>
                        <input type="radio" name="gender" value="girl">
                        <span>女</span>
                    </label>
                </div>
                <br>
                <label class="statement">
                    <input type="checkbox" name="statement" checked> 本人已詳閱
                    <a href="http://www.fhtrust.com.tw/announce/personal_announce.html" target="_blank">個資蒐集聲明</a>，並同意復華投信得蒐集、處理、利用上述本人所填寫之個人資料，以便取得投資理財相關服務。 (除非事先經過您的同意或依相關法律規定，復華投信不會將您的個人資料提供給第三人，或移作其他目的使用)
                </label>
                <div class="info clearfix bg-yellow">
                    <span class="red">※請填寫完整資料，NOWnews將於10/28(五)抽出基金教母關鍵筆記(共20本)，並通知得獎者。</span>
                </div>
            </form>
            <div class="footer">
                <a class="btn send-btn move">送出資料》</a>
            </div>
        </div>
        <div id="right">
            <div class="youvideo">
                <iframe class="main-video-small" src="https://www.youtube.com/embed/0JxVfLlgiGQ" allowfullscreen=""></iframe>
            </div>
        </div>
    </div>

    <div class="box finish-box">
        <h1 class="title">1你的理財方法對了嗎？ <br>用基金買房觀念大</h1>
        <div class="note">※完成測驗即有機會獲得基金教母蕭碧燕精選書籍1本(共20本)</div>
        <div class="body">
            <h3>※請填寫完整資料，NOWnews將於10/28(五)抽出基金教母關鍵筆記(共20本)，並通知得獎者。</h3>
        </div>

        <div class="footer">
            <a class="btn share-btn" target="try" onclick="window.open('https://www.facebook.com/sharer.php?u=http://www.fhtrust.com.tw/epaper/2016IOT/index.html?cid=2016IoT&oid=NNLD', 'try', 'width=670,height=340,screenX=0')" class="btn">FB分享》</a>
        </div>

    </div> -->

</body>

<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script>
    $(function() {
        // library
        $.fn.serializeFormJSON = function () {
            var o = {};
            var a = this.serializeArray();
            $.each(a, function () {
                if (o[this.name]) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            });
            return o;
        };

        // 變數
        var questionList = [
            " 下列關於基金定時定額的投資觀念何者正確？",
        ];
        var resultList = [
            '答對囉！<br>想了解更多投資撇步？ - ',
            '哎呀~答錯了！ - 蕭老師只花了「5年」就辦到囉～'
        ]
        var page = 1;
        var $box = $('.topic-box')
        var $box1 = $('.result-box');
        var $box2 = $('.form-box');
        var $box3 = $('.finish-box');
        var scoreObj = [];
        var totalScore = 0;

        $box.hide();
        $box1.hide();
        $box2.hide();
        $box3.hide();
        $('.start-box .btn').on('click', function(){
            $('.start-box').fadeOut(function() {
                var question = questionList[0].split(' ')[0]
                var questionSub = questionList[0].split(' ')[1]
                var questionHtml = '<p class="blod">' + question + ' </p><p>' + questionSub + '</p>';

                $('.question-box').html(questionHtml);
                $box.fadeIn();
            });
        });

        $('.question-btn').text('送出答案，我要抽獎 》').on('click', function() {
            var $checkedInput = $('input:checked');
            var score = parseInt($checkedInput.val(), 10);
            scoreObj[page] = isNaN(score) ? 0 : score;
            // $checkedInput.prop('checked', false);

            var data = $('form').serializeFormJSON();
            var statement = $('input[name="statement"]').prop('checked');

            if (!data.name){
                return alert('請填姓名');
            }
            if (!data.mobile){
                return alert('請填手機');
            }
            if (data.mobile.search(/^09[0-9]{8}$/)==-1){
                return alert('手機資料有誤');
            }
            if (!data.email){
                return alert('請填信箱');
            }
            if (data.email.search(/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/)==-1){
                return alert('信箱資料有誤');
            }
            if (!data.age){
                return alert('請填年齡區間');
            }
            if (!data.gender){
                return alert('請填性別');
            }
            if (!statement){
                return alert('請詳閱個資聲明');
            }

            data.score = totalScore;

            $.ajax({
                url: "http://api.adm4000.nownews.com:3001/fund",
                type: 'POST',
                crossDomain: true,
                data: data,
                success: function(data){
                    console.log('susscs',data)
                    totalScore = 0;
                    scoreObj.forEach(function(value, index) {
                        totalScore = totalScore + value;
                    });
                    var result = totalScore >= 100 ? 0 : 1;
                    var resultText = resultList[result].split(' - ')[0];
                    var resultTextSub = resultList[result].split(' - ')[1];

                    $box.fadeOut(function() {
                        var resultHtml = '<div class="result-text"><p>' + resultText + '<br>' + resultTextSub + '</p>';
                        $box1.find('.body').html(resultHtml);
                        $box1.fadeIn();
                    });
                    $box.fadeOut(function() {
                        $('.question-box').html(questionHtml);
                        $box.fadeIn();
                    });
                    page++;
                    return;
                },
                error: function(err){
                    console.log('error', err)
                }
            });

            // if (page === 1) {
            //     totalScore = 0;
            //     scoreObj.forEach(function(value, index) {
            //         totalScore = totalScore + value;
            //     });
            //     var result = totalScore >= 100 ? 0 : 1;
            //     var resultText = resultList[result].split(' - ')[0];
            //     var resultTextSub = resultList[result].split(' - ')[1];
            //
            //     $box.fadeOut(function() {
            //         var resultHtml = '<div class="result-text"><p>' + resultText + '<br>' + resultTextSub + '</p>';
            //         $box1.find('.body').html(resultHtml);
            //         $box1.fadeIn();
            //     });
            //     return;
            // }

            //var question = questionList[page].split('/')[0]
            //var questionSub = questionList[page].split('/')[1]
            //var questionHtml = '<p class="blod">' + question + '/</p><p>' + questionSub + '</p>';


        });

        $('.write-info-btn').on('click', function(){
            $box1.fadeOut(function() {
                $box2.fadeIn();
            });
        });

        // ajax
        // $('.send-btn').on('click', function(){
            // var data = $('form').serializeFormJSON();
            // var statement = $('input[name="statement"]').prop('checked');
            //
            // if (!data.name){
            //     return alert('請填姓名');
            // }
            // if (!data.mobile){
            //     return alert('請填手機');
            // }
            // if (data.mobile.search(/^09[0-9]{8}$/)==-1){
            //     return alert('手機資料有誤');
            // }
            // if (!data.email){
            //     return alert('請填信箱');
            // }
            // if (data.email.search(/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/)==-1){
            //     return alert('信箱資料有誤');
            // }
            // if (!data.age){
            //     return alert('請填年齡區間');
            // }
            // if (!data.gender){
            //     return alert('請填性別');
            // }
            // if (!statement){
            //     return alert('請詳閱個資聲明');
            // }
            //
            // data.score = totalScore;
            //
            // $.ajax({
            //     url: "http://api.adm4000.nownews.com:3001/fund",
            //     type: 'POST',
            //     crossDomain: true,
            //     data: data,
            //     success: function(data){
            //         console.log('susscs',data)
            //         return $box2.fadeOut(function() {
            //             $box3.fadeIn();
            //         });
            //     },
            //     error: function(err){
            //         console.log('error', err)
            //     }
            // });

        // });

        // 移動的按鈕
        var loop = function (operation) {
            $('.move').animate ({
                left: operation + '=10px',
            }, 500, 'linear', function() {
                operation = operation == '+' ? '-' : '+';
                loop(operation);
            });
        };
        loop('+');
    });
</script>

</html>
